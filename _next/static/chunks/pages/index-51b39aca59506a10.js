(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5746)}])},5746:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return tn}});var r=n(5893),i=n(8993),o=n.n(i),s=n(7294),a=function(t,e){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function l(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function p(t){return"function"==typeof t}function f(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var d=f(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});function y(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var b=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t,e,n,r,i,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var s=c(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this)}var l=this.initialTeardown;if(p(l))try{l()}catch(t){i=t instanceof d?t.errors:[t]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var y=c(f),b=y.next();!b.done;b=y.next()){var v=b.value;try{x(v)}catch(t){i=null!=i?i:[],t instanceof d?i=h(h([],u(i)),u(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{b&&!b.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}}if(i)throw new d(i)}},e.prototype.add=function(t){var n;if(t&&t!==this){if(this.closed)x(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&y(e,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&y(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),v=b.EMPTY;function m(t){return t instanceof b||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function x(t){p(t)?t():t.unsubscribe()}var g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=w.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,h([t,e],u(n))):setTimeout.apply(void 0,h([t,e],u(n)))},clearTimeout:function(t){var e=w.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function _(){}var S=j("C",void 0,void 0);function j(t,e,n){return{kind:t,value:e,error:n}}var O=null;function E(t){if(g.useDeprecatedSynchronousErrorHandling){var e=!O;if(e&&(O={errorThrown:!1,error:null}),t(),e){var n=O,r=n.errorThrown,i=n.error;if(O=null,r)throw i}}else t()}var T=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,m(e)&&e.add(n)):n.destination=J,n}return l(e,t),e.create=function(t,e,n){return new P(t,e,n)},e.prototype.next=function(t){this.isStopped?A(j("N",t,void 0),this):this._next(t)},e.prototype.error=function(t){this.isStopped?A(j("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?A(S,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(b),C=Function.prototype.bind;function N(t,e){return C.call(t,e)}var k=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){I(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){I(t)}else I(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){I(t)}},t}(),P=function(t){function e(e,n,r){var i,o,s=t.call(this)||this;return p(e)||!e?i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&g.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},i={next:e.next&&N(e.next,o),error:e.error&&N(e.error,o),complete:e.complete&&N(e.complete,o)}):i=e,s.destination=new k(i),s}return l(e,t),e}(T);function I(t){g.useDeprecatedSynchronousErrorHandling?g.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=t):w.setTimeout(function(){var e=g.onUnhandledError;if(e)e(t);else throw t})}function A(t,e){var n=g.onStoppedNotification;n&&w.setTimeout(function(){return n(t,e)})}var J={closed:!0,next:_,error:function(t){throw t},complete:_},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function F(t){return t}var D=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=this,o=(r=t)&&r instanceof T||r&&p(r.next)&&p(r.error)&&p(r.complete)&&m(r)?t:new P(t,e,n);return E(function(){var t=i.operator,e=i.source;o.add(t?t.call(o,e):e?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=B(e))(function(e,r){var i=new P({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[z]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===t.length?F:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)})(this)},t.prototype.toPromise=function(t){var e=this;return new(t=B(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function B(t){var e;return null!==(e=null!=t?t:g.Promise)&&void 0!==e?e:Promise}var M=f(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),U=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return l(e,t),e.prototype.lift=function(t){var e=new V(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new M},e.prototype.next=function(t){var e=this;E(function(){var n,r;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=c(e.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(t)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;E(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;E(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?v:(this.currentObservers=null,i.push(t),new b(function(){e.currentObservers=null,y(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new D;return t.source=this,t},e.create=function(t,e){return new V(t,e)},e}(D),V=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return l(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:v},e}(U),q=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return l(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n.closed||e.next(this._value),n},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(U);let H=new q({id:"root",type:"node",text:"Summary",isOpen:!0,children:[{id:"d6b6e43d-723d-4079-b3b7-13ff6d6059e6",type:"text",text:"In whatsoever mode, or by whatsoever means, our knowledge may relate to objects, it is at least quite clear that the only manner in which it immediately relates to them is by means of an intuition. To this as the indispensable groundwork, all thought points. But an intuition can take place only in so far as the object is given to us. This, again, is only possible, to man at least, on condition that the object affect the mind in a certain manner. The capacity for receiving representations (receptivity) through the mode in which we are affected by objects, objects, is called sensibility. By means of sensibility, therefore, objects are given to us, and it alone furnishes us with intuitions; by the understanding they are thought, and from it arise conceptions. But an thought must directly, or indirectly, by means of certain signs, relate ultimately to intuitions; consequently, with us, to sensibility, because in no other way can an object be given to us.\n\n      The effect of an object upon the faculty of representation, so far as we are affected by the said object, is sensation. That sort of intuition which relates to an object by means of sensation is called an empirical intuition. The undetermined object of an empirical intuition is called phenomenon. That which in the phenomenon corresponds to the sensation, I term its matter; but that which effects that the content of the phenomenon can be arranged under certain relations, I call its form. But that in which our sensations are merely arranged, and by which they are susceptible of assuming a certain form, cannot be itself sensation. It is, then, the matter of all phenomena that is given to us \xe0 posteriori; the form must lie ready \xe0 priori for them in the mind, and consequently can be regarded separately from all sensation.\n      \n      I call all representations pure, in the transcendental meaning of the word, wherein nothing is met with that belongs to sensation. And accordingly we find existing in the mind \xe0 priori, the pure form of sensuous intuitions in general, in which all the manifold content of the phenomenal world is arranged and viewed under certain relations. This pure form of sensibility I shall call pure intuition. Thus, if I take away from our representation of a body all that the understanding thinks as belonging to it, as substance, force, divisibility, etc., and also whatever belongs to sensation, as impenetrability, hardness, colour, etc.; yet there is still something left us from this empirical intuition, namely, extension and shape. These belong to pure intuition, which exists \xe0 priori in the mind, as a mere form of sensibility, and without any real object of the senses or any sensation.\n      \n      The science of all the principles of sensibility \xe0 priori, I call transcendental \xe6sthetic.[10] There must, then, be such a science forming the first part of the transcendental doctrine of elements, in contradistinction to that part which contains the principles of pure thought, and which is called transcendental logic.",children:[]}]});function L(t){return t.map(t=>"string"==typeof t?{id:G(),type:"text",text:t,children:[]}:{...t,children:t.children.map(t=>null==t?void 0:t.id).filter(t=>!t)})}let X=t=>{let[e,n]=(0,s.useState)(null==t?void 0:t.getValue());(0,s.useEffect)(()=>{let e=t.subscribe(t=>n(t));return()=>e.unsubscribe()},[t]);let r=e=>t.next(e);return[e,r]};function Y(t,e,n){let r=t.slice(0,e),i=t.slice(e,n),o=t.slice(n);return[r,i,o]}function K(t){return JSON.parse(JSON.stringify(t.reduce((t,e)=>{let n=t.slice(0,-1),r=t.pop()||"";return"object"==typeof e||"object"==typeof r?[...n,r,e]:[...n,"".concat(r," ").concat(e)]},[])))}function G(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function Q(t){let e={...t,children:t.children.map(t=>t.id)};return 0===t.children.length?[e]:[e,...t.children.flatMap(Q)]}function R(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",r={};return t.forEach(t=>{r[t.id]={...t,children:[]}}),t.forEach(t=>{t.id===n&&(e=r[t.id]);let i=r[t.id];i&&t.children.forEach(t=>{let e=r[t];e&&i.children.push(e)})}),e}function W(t){return t.reduce((t,e)=>({...t,[e.id]:e}),{})}let Z=t=>{let{text:e,isEditing:n,onSave:i}=t,[o,a]=(0,s.useState)(e),[l,c]=(0,s.useState)(!!n);return l?(0,r.jsx)("input",{autoFocus:!0,onKeyUp:t=>{"enter"===t.key.toLowerCase()&&(c(!1),null==i||i(o))},onBlur:t=>{c(!1),null==i||i(o)},value:o,onChange:t=>{a(t.target.value)}}):(0,r.jsx)("span",{onClick:()=>{c(!0)},children:o})},$=t=>{let{isVisible:e,children:n}=t;return(0,r.jsx)("span",{style:{display:e?"initial":"none"},children:n})},tt=t=>{let{node:e,onCancel:n}=t,[i,o]=(0,s.useState)(!!(null==e?void 0:e.isOpen)),[a,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[h,p]=X(H);(0,s.useEffect)(()=>{let t=t=>{"Escape"===t.key&&(console.log("Escape key was pressed."),l(null),u(null))};return document.addEventListener("keyup",t),()=>document.removeEventListener("keyup",t)},[]);let[f,d]=(0,s.useState)([]);(0,s.useEffect)(()=>{e&&d(null==e?void 0:e.children.map(t=>{var e;return"text"===t.type?null===(e=t.text)||void 0===e?void 0:e.split(" "):t}).flat())},[e]);let y=t=>{u(t)},b=(t,e)=>{let n=W(Q(h)),r=n[t];if(!r)return;n[t]={...r,...e};let i=JSON.parse(JSON.stringify(R(Object.values(n))));p(i)},v=()=>{if(null===a||null===c)return;let[t,n,r]=Y(f,a,c+1),i=G(),o=[...t,{id:i,text:"[name]",type:"node",isOpen:!1,isEditing:!0,children:K(n)},...r],s=W(Q(h)),l=L(K(n)),u=W(K(o).map(t=>"string"==typeof t?{id:G(),type:"text",text:t,children:[]}:t.id===i?{...t,children:l.map(t=>{let{id:e}=t;return e})}:(console.warn("TEST",t),s[t.id]))),d={...W(l),...W(Q(h)),...u,[e.id]:{...e,children:Object.values(u).map(t=>{let{id:e}=t;return e})}},y=JSON.parse(JSON.stringify(R(Object.values(d))));p(y)},m=t=>{if(!a)return l(t);c&&(v(),l(null),u(null))},x=t=>{let n=f.findIndex(e=>"object"==typeof e&&e.id===t);if(n<0)return;let[r,i,o]=Y(f,n,n+1),s=W(Q(h)),a=W(L(K([...r,...f[n].children,...o]))),l={...a,...s,[e.id]:{...s[e.id],children:Object.values(a).map(t=>{let{id:e}=t;return e})}},c=JSON.parse(JSON.stringify(R(Object.values(l))));p(c)},g=t=>t===a||a&&c&&c>a&&t>a&&t<=c?"#33333333":"unset";return(0,r.jsxs)("span",{className:"collapsible",children:[(0,r.jsx)("button",{className:"button",onClick:()=>{o(!i)},children:i?"-":"+"}),(0,r.jsx)($,{isVisible:!i,children:(0,r.jsx)(Z,{text:(null==e?void 0:e.text)||"",isEditing:null==e?void 0:e.isEditing,onSave:t=>{(null==e?void 0:e.id)&&b(null==e?void 0:e.id,{text:t,isEditing:!1})}})}),(0,r.jsx)($,{isVisible:i,children:f.map((t,e)=>"object"==typeof t?(0,r.jsx)(tt,{node:t,onCancel:()=>x(t.id)},t.id):(null==t?void 0:t.match(/\n/))?(0,r.jsx)("br",{}):(0,r.jsxs)("span",{className:"hoverable",style:{background:g(e)},onClick:()=>m(e),onMouseOver:()=>y(e),children:[t," "]}))}),n&&(0,r.jsx)("button",{onClick:()=>{n()},children:"x"})]})},te=()=>{let[t,e]=X(H),[n,i]=(0,s.useState)(!1),[o,a]=(0,s.useState)("");return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>(function(t){if(!navigator.clipboard){console.error("Clipboard API not available");return}navigator.permissions.query({name:"clipboard-write"}).then(e=>{"granted"==e.state||"prompt"==e.state?navigator.clipboard.writeText(t).then(function(){alert("Copied!"),console.log("Copying to clipboard was successful!")},function(t){console.error("Could not copy text: ",t)}):console.error("Permission to access clipboard is not granted")})})(JSON.stringify(t)),children:"Copy to clipboard"})}),n&&(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{autoFocus:!0,onChange:t=>a(t.target.value),children:o})}),(0,r.jsx)("button",{onClick:()=>{if(i(!n),n&&o)try{e(JSON.parse(o))}catch(t){e({id:"root",text:"Summary",type:"node",isOpen:!0,children:[{id:G(),type:"text",text:o,children:[]}]}),console.error("Could not parse import")}},children:n?"finish import":"import data"})]})};function tn(){let[t]=X(H);return(0,r.jsxs)("main",{className:"flex min-h-screen flex-col p-24 ".concat(o().className),children:[(0,r.jsx)("h2",{className:"mb-2 mt-0 text-5xl font-medium leading-tight text-primary",children:"Onion Summarization Tool"}),(0,r.jsx)(tt,{node:t}),(0,r.jsx)("br",{}),(0,r.jsx)(te,{})]})}},8993:function(t){t.exports={style:{fontFamily:"'__Inter_ccafe3', '__Inter_Fallback_ccafe3'",fontStyle:"normal"},className:"__className_ccafe3"}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);